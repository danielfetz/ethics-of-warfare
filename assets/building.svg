<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600" shape-rendering="geometricPrecision" text-rendering="geometricPrecision">
  <style>
    <![CDATA[
      /* Roof Animation */
      #roof {
        animation: roofAnimation 400ms linear infinite alternate-reverse forwards;
      }
      @keyframes roofAnimation {
        0% {
          d: path('M300,100 L200,200 L400,200 Z');
          animation-timing-function: cubic-bezier(0.42, 0, 0.58, 1);
        }
        100% {
          d: path('M300,100 L210,200 L390,200 Z');
        }
      }

      /* Door Animation */
      #door {
        animation: doorAnimation 400ms linear infinite alternate-reverse forwards;
      }
      @keyframes doorAnimation {
        0% {
          transform: translate(0, 0);
          animation-timing-function: cubic-bezier(0.42, 0, 0.58, 1);
        }
        100% {
          transform: translate(5px, -5px);
        }
      }

      /* Window Animation */
      .window {
        animation: windowAnimation 400ms linear infinite alternate-reverse forwards;
      }
      @keyframes windowAnimation {
        0% {
          transform: scale(1);
        }
        100% {
          transform: scale(1.05);
        }
      }

      /* Smoke Animation */
      #smoke {
        animation: smokeAnimation 2000ms linear infinite;
      }
      @keyframes smokeAnimation {
        0% {
          transform: translate(0, 0) scale(1);
          opacity: 0.8;
        }
        100% {
          transform: translate(0, -20px) scale(1.5);
          opacity: 0;
        }
      }
    ]]>
  </style>

  <!-- House Base -->
  <g id="house" transform="translate(100, 200)">
    <!-- Roof -->
    <path id="roof" d="M300,100 L200,200 L400,200 Z" fill="#8B0000" stroke="#000" stroke-width="4"/>

    <!-- Main Body -->
    <rect x="150" y="200" width="300" height="250" fill="#FFD700" stroke="#000" stroke-width="4"/>

    <!-- Door -->
    <g id="door" transform="translate(0,0)">
      <rect x="270" y="350" width="60" height="100" fill="#654321" stroke="#000" stroke-width="4"/>
      <circle cx="330" cy="400" r="5" fill="#000"/>
    </g>

    <!-- Windows -->
    <g class="window" transform="translate(0,0)">
      <rect x="180" y="230" width="60" height="60" fill="#ADD8E6" stroke="#000" stroke-width="4"/>
      <line x1="180" y1="260" x2="240" y2="260" stroke="#000" stroke-width="2"/>
      <line x1="210" y1="230" x2="210" y2="290" stroke="#000" stroke-width="2"/>
    </g>
    <g class="window" transform="translate(0,0)">
      <rect x="360" y="230" width="60" height="60" fill="#ADD8E6" stroke="#000" stroke-width="4"/>
      <line x1="360" y1="260" x2="420" y2="260" stroke="#000" stroke-width="2"/>
      <line x1="390" y1="230" x2="390" y2="290" stroke="#000" stroke-width="2"/>
    </g>

    <!-- Chimney -->
    <rect x="320" y="80" width="40" height="80" fill="#555" stroke="#000" stroke-width="4"/>
    <path id="smoke" d="M340,80 Q330,60 350,50 Q340,30 360,20" fill="none" stroke="#808080" stroke-width="4" stroke-linecap="round"/>
  </g>
</svg>
